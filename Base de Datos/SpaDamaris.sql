CREATE TABLE Empleado (IDEmpleado int(10) NOT NULL AUTO_INCREMENT, Nombre varchar(30) NOT NULL, ApellidoPaterno varchar(30) NOT NULL, ApellidoMaterno varchar(30) NOT NULL, Usuario varchar(40) NOT NULL, Contraseña varchar(40) NOT NULL, IDCargo int(10) NOT NULL, Calle varchar(60) NOT NULL, NumExterior varchar(20) NOT NULL, NumInterior varchar(20), Colonia varchar(60) NOT NULL, CodigoPostal varchar(5) NOT NULL, Foto varchar(255), Email varchar(30), Telefono varchar(30), Celular varchar(30), PRIMARY KEY (IDEmpleado));
CREATE TABLE Cliente (IDCliente int(10) NOT NULL AUTO_INCREMENT, Nombre varchar(30) NOT NULL, ApellidoPaterno varchar(30) NOT NULL, ApellidoMaterno varchar(30) NOT NULL, Calle varchar(60) NOT NULL, NumExterior varchar(20) NOT NULL, NumInterior varchar(20), Colonia varchar(60) NOT NULL, CodigoPostal varchar(5) NOT NULL, Email varchar(30), Telefono varchar(30), Celular varchar(30), PRIMARY KEY (IDCliente));
CREATE TABLE Consulta (IDConsulta int(10) NOT NULL AUTO_INCREMENT, IDCliente int(10) NOT NULL, IDTerapeuta int(10) NOT NULL, IDHistorialMedico int(10) NOT NULL, FechaCita date NOT NULL, IDConsultaStatus int(10) NOT NULL, observaciones varchar(255), PRIMARY KEY (IDConsulta));
CREATE TABLE ProductoServicio (IDProductoServicio int(10) NOT NULL AUTO_INCREMENT, IDProductoServicioTipo int(10) NOT NULL, Producto varchar(30) NOT NULL, PrecioUnitario decimal(10, 2) NOT NULL, Foto varchar(255), Descripcion varchar(100), PRIMARY KEY (IDProductoServicio));
CREATE TABLE Cargo (IDCargo int(10) NOT NULL AUTO_INCREMENT, Cargo varchar(30) NOT NULL, Descripcion varchar(100) NOT NULL, PRIMARY KEY (IDCargo));
CREATE TABLE ProductoServicioTipo (IDProductoServicioTipo int(10) NOT NULL AUTO_INCREMENT, ProductoServicioTipo varchar(60) NOT NULL, Descripcion varchar(100) NOT NULL, PRIMARY KEY (IDProductoServicioTipo));
CREATE TABLE Existencia (IDExistencia int(10) NOT NULL UNIQUE AUTO_INCREMENT, FechaReferencia varchar(10) NOT NULL, IDProductoServicio int(10) NOT NULL, PrecioUnitario decimal(10, 2) NOT NULL, Cantidad decimal(10, 2) NOT NULL, PRIMARY KEY (IDExistencia, FechaReferencia));
CREATE TABLE MovimientoAlmacen (IDMovimientoAlmacen int(10) NOT NULL AUTO_INCREMENT, IDMovimientoAlmacenTipo int(10) NOT NULL, MovimientoAlmacenFecha date NOT NULL, IDEmpleado int(10) NOT NULL, PRIMARY KEY (IDMovimientoAlmacen));
CREATE TABLE MovimientoAlmacenTipo (IDMovimientoAlmacenTipo int(10) NOT NULL AUTO_INCREMENT, TipoMovimientoAlmacen varchar(30) NOT NULL, EntradaSalida varchar(1) NOT NULL, Descripcion varchar(100) NOT NULL, PRIMARY KEY (IDMovimientoAlmacenTipo));
CREATE TABLE Remision (IDRemision int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDMovimientoAlmacen int(10) NOT NULL, IDCliente int(10) NOT NULL, Folio int(10) NOT NULL UNIQUE, FechaRemision date NOT NULL, Total decimal(10, 2) NOT NULL DEFAULT 0, PRIMARY KEY (IDRemision, IDMovimientoAlmacen));
CREATE TABLE Recepcion (IDRecepcion int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDMovimientoAlmacen int(10) NOT NULL, IDProveedor int(10) NOT NULL, Folio int(10) NOT NULL, FechaRecepcion int(10) NOT NULL, Total decimal(10, 2) NOT NULL DEFAULT 0, PRIMARY KEY (IDRecepcion, IDMovimientoAlmacen));
CREATE TABLE RemisionDetalle (IDRemisionDetalle int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDRemision int(10) NOT NULL, IDProducto int(10) NOT NULL, Cantidad decimal(10, 2) NOT NULL, PrecioUnitario decimal(10, 2) NOT NULL, IVA decimal(10, 2) NOT NULL, Descuento decimal(10, 2) NOT NULL, PRIMARY KEY (IDRemisionDetalle, IDRemision));
CREATE TABLE RecepcionDetalle (IDRecepcionDetalle int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDRecepcion int(10) NOT NULL, IDProducto int(10) NOT NULL, Cantidad decimal(10, 2) NOT NULL, PrecioUnitario decimal(10, 2) NOT NULL, IVA decimal(10, 2) NOT NULL, Descuento decimal(10, 2) NOT NULL, PRIMARY KEY (IDRecepcionDetalle, IDRecepcion));
CREATE TABLE ConsultaStatus (IDConsultaStatus int(10) NOT NULL AUTO_INCREMENT, Status varchar(30) NOT NULL, Descripcion varchar(100) NOT NULL, PRIMARY KEY (IDConsultaStatus));
CREATE TABLE HistorialMedico (IDHistorialMedico int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDCliente int(10) NOT NULL, FechaRegistro date NOT NULL, IDServicio int(10) NOT NULL, observaciones varchar(255), PRIMARY KEY (IDHistorialMedico, IDCliente));
CREATE TABLE Proveedor (IDProveedor int(10) NOT NULL AUTO_INCREMENT, Nombre varchar(30) NOT NULL, ApellidoPaterno varchar(30) NOT NULL, ApellidoMaterno varchar(30) NOT NULL, RFC char(13) UNIQUE, Calle varchar(60) NOT NULL, NumExterior varchar(20) NOT NULL, NumInterior varchar(20), Colonia varchar(60) NOT NULL, CodigoPostal varchar(5) NOT NULL, Email varchar(30), Telefono varchar(30), Celular varchar(30), PRIMARY KEY (IDProveedor));
CREATE TABLE AjusteEntrada (IDAjusteEntrada int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDMovimientoAlmacen int(10) NOT NULL, IDAjusteEntradaTipo int(10) NOT NULL, IDCliente int(10), Folio int(10) NOT NULL UNIQUE, Observaciones varchar(255), PRIMARY KEY (IDAjusteEntrada, IDMovimientoAlmacen));
CREATE TABLE AjusteEntradaDetalle (IDAjusteEntradaDetalle int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDAjusteEntrada int(10) NOT NULL, IDProductoServicio int(10) NOT NULL, Cantidad decimal(10, 2) NOT NULL, PRIMARY KEY (IDAjusteEntradaDetalle, IDAjusteEntrada));
CREATE TABLE AjusteSalida (IDAjusteSalida int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDMovimientoAlmacen int(10) NOT NULL, IDAjusteSalidaTipo int(10) NOT NULL, IDProveedor int(10), Folio int(10) NOT NULL UNIQUE, Observaciones varchar(255), PRIMARY KEY (IDAjusteSalida, IDMovimientoAlmacen));
CREATE TABLE AjusteSalidaDetalle (IDAjusteSalidaDetalle int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDAjusteSalida int(10) NOT NULL, IDProductoServicio int(10) NOT NULL, Cantidad decimal(10, 2) NOT NULL, PRIMARY KEY (IDAjusteSalidaDetalle, IDAjusteSalida));
CREATE TABLE Piel (IDPiel int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDHistorialMedico int(10) NOT NULL, Fina varchar(1), Gruesa varchar(1), Deshidratada varchar(1), Flacida varchar(1), Seca varchar(1), Mixta varchar(1), Grasa varchar(1), Acneica varchar(1), Manchas varchar(1), Cicatrices varchar(1), PoroAbierto varchar(1), Ojeras varchar(1), Lunares varchar(1), Pecas varchar(1), PuntosNegros varchar(1), Verrugas varchar(1), Arrugas varchar(1), BrilloFacial varchar(1), PielAsfixiada varchar(1), Despigmentacion varchar(1), PRIMARY KEY (IDPiel, IDHistorialMedico));
CREATE TABLE Exploracion (IDExploracion int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDHistorialMedico int(10) NOT NULL, PesoInicial decimal(10, 3), PesoFinal decimal(10, 3), BustoInicial decimal(10, 3), BustoFinal decimal(10, 3), DiafragmaInicial decimal(10, 3), DiafragmaFinal decimal(10, 3), BrazoInicial decimal(10, 3), BrazoFinal decimal(10, 3), CinturaInicial decimal(10, 3), CinturaFinal decimal(10, 3), AbdomenInicial decimal(10, 3), AbdomenFInal decimal(10, 3), CaderaInicial decimal(10, 3), CaderaFinal decimal(10, 3), MusloInicial decimal(10, 3), MusloFinal decimal(10, 3), PRIMARY KEY (IDExploracion, IDHistorialMedico));
CREATE TABLE TipoCelulitis (IDTipoCelulitis int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDHistorialMedico int(10) NOT NULL, Fibrosa varchar(1), Edematosa varchar(1), Flacida varchar(1), Dura varchar(1), Mixta varchar(1), Dolorosa varchar(1), PRIMARY KEY (IDTipoCelulitis, IDHistorialMedico));
CREATE TABLE Padecimiento (IDPadecimiento int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDHistorialMedico int(10) NOT NULL, Diabetes varchar(1), Obesisdad varchar(1), Depresion varchar(1), Estres varchar(1), Sobrepeso varchar(1), Estreñimiento varchar(1), Colitis varchar(1), RetencionLiquidos varchar(1), TranstornosMesntruales varchar(1), CuidadosCorporales varchar(1), Embarazo int(10), PRIMARY KEY (IDPadecimiento, IDHistorialMedico));
CREATE TABLE Habito (IDHabito int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDHistorialMedico int(10) NOT NULL, Fumar varchar(1), Ejercicio varchar(1), UsarFaja varchar(1), Sueño varchar(1), TomaSol varchar(1), Bloqueador varchar(1), Hidroquinona varchar(1), PRIMARY KEY (IDHabito, IDHistorialMedico));
CREATE TABLE Exfoliacion (IDExfoliacion int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDHistorialMedico int(10) NOT NULL, PeelingQuimico varchar(1), Laser varchar(1), Dermoabrasion varchar(1), RetinA varchar(1), Renova varchar(1), Racutan varchar(1), Adapaleno varchar(1), AcidoGlicolico varchar(1), AlfaHidroxiacidos varchar(1), ExfolianteGranuloso varchar(1), AcidoLactico varchar(1), VitaminaA varchar(1), BlanqueadorOAclarador varchar(1), PRIMARY KEY (IDExfoliacion, IDHistorialMedico));
CREATE TABLE Alimentacion (IDAlimentacion int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDHistorialMedico int(10) NOT NULL, Buena varchar(1), Regular varchar(1), Mala varchar(1), PRIMARY KEY (IDAlimentacion, IDHistorialMedico));
CREATE TABLE AguaAlDia (IDAguaAlDia int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDHistorialMedico int(10) NOT NULL, Poca varchar(1), Regular varchar(1), Mucha varchar(1), PRIMARY KEY (IDAguaAlDia, IDHistorialMedico));
CREATE TABLE FichaClinica (IDFichaClinica int(10) NOT NULL UNIQUE AUTO_INCREMENT, IDHistorialMedico int(10) NOT NULL, MotivoConsulta varchar(150) NOT NULL, TiempoProblema varchar(150) NOT NULL, RelacionaCon varchar(150) NOT NULL, TratamientoAnterior varchar(1) NOT NULL, MetodosProbados varchar(150) NOT NULL, ResultadosAnteriores varchar(150) NOT NULL, PRIMARY KEY (IDFichaClinica, IDHistorialMedico));
CREATE TABLE AjusteEntradaTipo (IDAjusteEntradaTipo int(10) NOT NULL AUTO_INCREMENT, Tipo varchar(60) NOT NULL, ExclusivoSistema varchar(1) NOT NULL, Descripcion varchar(100) NOT NULL, PRIMARY KEY (IDAjusteEntradaTipo));
CREATE TABLE AjusteSalidaTipo (IDAjusteSalidaTipo int(10) NOT NULL AUTO_INCREMENT, Tipo varchar(60) NOT NULL, ExclusivoSistema varchar(1) NOT NULL, Descripcion varchar(100) NOT NULL, PRIMARY KEY (IDAjusteSalidaTipo));
ALTER TABLE MovimientoAlmacen ADD INDEX FKMovimiento137480 (IDMovimientoAlmacenTipo), ADD CONSTRAINT FKMovimiento137480 FOREIGN KEY (IDMovimientoAlmacenTipo) REFERENCES MovimientoAlmacenTipo (IDMovimientoAlmacenTipo);
ALTER TABLE Empleado ADD INDEX FKEmpleado545786 (IDCargo), ADD CONSTRAINT FKEmpleado545786 FOREIGN KEY (IDCargo) REFERENCES Cargo (IDCargo);
ALTER TABLE MovimientoAlmacen ADD INDEX FKMovimiento729160 (IDEmpleado), ADD CONSTRAINT FKMovimiento729160 FOREIGN KEY (IDEmpleado) REFERENCES Empleado (IDEmpleado);
ALTER TABLE ProductoServicio ADD INDEX FKProductoSe737139 (IDProductoServicioTipo), ADD CONSTRAINT FKProductoSe737139 FOREIGN KEY (IDProductoServicioTipo) REFERENCES ProductoServicioTipo (IDProductoServicioTipo);
ALTER TABLE Existencia ADD INDEX FKExistencia174224 (IDProductoServicio), ADD CONSTRAINT FKExistencia174224 FOREIGN KEY (IDProductoServicio) REFERENCES ProductoServicio (IDProductoServicio);
ALTER TABLE RemisionDetalle ADD INDEX FKRemisionDe671804 (IDRemision), ADD CONSTRAINT FKRemisionDe671804 FOREIGN KEY (IDRemision) REFERENCES Remision (IDRemision);
ALTER TABLE Remision ADD INDEX FKRemision665472 (IDMovimientoAlmacen), ADD CONSTRAINT FKRemision665472 FOREIGN KEY (IDMovimientoAlmacen) REFERENCES MovimientoAlmacen (IDMovimientoAlmacen);
ALTER TABLE RecepcionDetalle ADD INDEX FKRecepcionD531606 (IDProducto), ADD CONSTRAINT FKRecepcionD531606 FOREIGN KEY (IDProducto) REFERENCES ProductoServicio (IDProductoServicio);
ALTER TABLE RemisionDetalle ADD INDEX FKRemisionDe425762 (IDProducto), ADD CONSTRAINT FKRemisionDe425762 FOREIGN KEY (IDProducto) REFERENCES ProductoServicio (IDProductoServicio);
ALTER TABLE Remision ADD INDEX FKRemision610110 (IDCliente), ADD CONSTRAINT FKRemision610110 FOREIGN KEY (IDCliente) REFERENCES Cliente (IDCliente);
ALTER TABLE Consulta ADD INDEX FKConsulta393400 (IDConsultaStatus), ADD CONSTRAINT FKConsulta393400 FOREIGN KEY (IDConsultaStatus) REFERENCES ConsultaStatus (IDConsultaStatus);
ALTER TABLE Consulta ADD INDEX FKConsulta287998 (IDCliente), ADD CONSTRAINT FKConsulta287998 FOREIGN KEY (IDCliente) REFERENCES Cliente (IDCliente);
ALTER TABLE Consulta ADD INDEX FKConsulta768151 (IDTerapeuta), ADD CONSTRAINT FKConsulta768151 FOREIGN KEY (IDTerapeuta) REFERENCES Empleado (IDEmpleado);
ALTER TABLE Recepcion ADD INDEX FKRecepcion658770 (IDProveedor), ADD CONSTRAINT FKRecepcion658770 FOREIGN KEY (IDProveedor) REFERENCES Proveedor (IDProveedor);
ALTER TABLE Recepcion ADD INDEX FKRecepcion859152 (IDMovimientoAlmacen), ADD CONSTRAINT FKRecepcion859152 FOREIGN KEY (IDMovimientoAlmacen) REFERENCES MovimientoAlmacen (IDMovimientoAlmacen);
ALTER TABLE RecepcionDetalle ADD INDEX FKRecepcionD845984 (IDRecepcion), ADD CONSTRAINT FKRecepcionD845984 FOREIGN KEY (IDRecepcion) REFERENCES Recepcion (IDRecepcion);
ALTER TABLE HistorialMedico ADD INDEX FKHistorialM959828 (IDServicio), ADD CONSTRAINT FKHistorialM959828 FOREIGN KEY (IDServicio) REFERENCES ProductoServicio (IDProductoServicio);
ALTER TABLE AjusteEntrada ADD INDEX FKAjusteEntr817793 (IDMovimientoAlmacen), ADD CONSTRAINT FKAjusteEntr817793 FOREIGN KEY (IDMovimientoAlmacen) REFERENCES MovimientoAlmacen (IDMovimientoAlmacen);
ALTER TABLE AjusteEntrada ADD INDEX FKAjusteEntr762431 (IDCliente), ADD CONSTRAINT FKAjusteEntr762431 FOREIGN KEY (IDCliente) REFERENCES Cliente (IDCliente);
ALTER TABLE AjusteEntradaDetalle ADD INDEX FKAjusteEntr965676 (IDAjusteEntrada), ADD CONSTRAINT FKAjusteEntr965676 FOREIGN KEY (IDAjusteEntrada) REFERENCES AjusteEntrada (IDAjusteEntrada);
ALTER TABLE AjusteEntradaDetalle ADD INDEX FKAjusteEntr951580 (IDProductoServicio), ADD CONSTRAINT FKAjusteEntr951580 FOREIGN KEY (IDProductoServicio) REFERENCES ProductoServicio (IDProductoServicio);
ALTER TABLE AjusteSalida ADD INDEX FKAjusteSali232744 (IDMovimientoAlmacen), ADD CONSTRAINT FKAjusteSali232744 FOREIGN KEY (IDMovimientoAlmacen) REFERENCES MovimientoAlmacen (IDMovimientoAlmacen);
ALTER TABLE AjusteSalida ADD INDEX FKAjusteSali566873 (IDProveedor), ADD CONSTRAINT FKAjusteSali566873 FOREIGN KEY (IDProveedor) REFERENCES Proveedor (IDProveedor);
ALTER TABLE AjusteSalidaDetalle ADD INDEX FKAjusteSali199966 (IDAjusteSalida), ADD CONSTRAINT FKAjusteSali199966 FOREIGN KEY (IDAjusteSalida) REFERENCES AjusteSalida (IDAjusteSalida);
ALTER TABLE AjusteSalidaDetalle ADD INDEX FKAjusteSali116948 (IDProductoServicio), ADD CONSTRAINT FKAjusteSali116948 FOREIGN KEY (IDProductoServicio) REFERENCES ProductoServicio (IDProductoServicio);
ALTER TABLE HistorialMedico ADD INDEX FKHistorialM865695 (IDCliente), ADD CONSTRAINT FKHistorialM865695 FOREIGN KEY (IDCliente) REFERENCES Cliente (IDCliente);
ALTER TABLE Habito ADD INDEX FKHabito806866 (IDHistorialMedico), ADD CONSTRAINT FKHabito806866 FOREIGN KEY (IDHistorialMedico) REFERENCES HistorialMedico (IDHistorialMedico);
ALTER TABLE TipoCelulitis ADD INDEX FKTipoCeluli51692 (IDHistorialMedico), ADD CONSTRAINT FKTipoCeluli51692 FOREIGN KEY (IDHistorialMedico) REFERENCES HistorialMedico (IDHistorialMedico);
ALTER TABLE Padecimiento ADD INDEX FKPadecimien990892 (IDHistorialMedico), ADD CONSTRAINT FKPadecimien990892 FOREIGN KEY (IDHistorialMedico) REFERENCES HistorialMedico (IDHistorialMedico);
ALTER TABLE Exploracion ADD INDEX FKExploracio938405 (IDHistorialMedico), ADD CONSTRAINT FKExploracio938405 FOREIGN KEY (IDHistorialMedico) REFERENCES HistorialMedico (IDHistorialMedico);
ALTER TABLE Piel ADD INDEX FKPiel612399 (IDHistorialMedico), ADD CONSTRAINT FKPiel612399 FOREIGN KEY (IDHistorialMedico) REFERENCES HistorialMedico (IDHistorialMedico);
ALTER TABLE Exfoliacion ADD INDEX FKExfoliacio997845 (IDHistorialMedico), ADD CONSTRAINT FKExfoliacio997845 FOREIGN KEY (IDHistorialMedico) REFERENCES HistorialMedico (IDHistorialMedico);
ALTER TABLE AguaAlDia ADD INDEX FKAguaAlDia625443 (IDHistorialMedico), ADD CONSTRAINT FKAguaAlDia625443 FOREIGN KEY (IDHistorialMedico) REFERENCES HistorialMedico (IDHistorialMedico);
ALTER TABLE Alimentacion ADD INDEX FKAlimentaci962672 (IDHistorialMedico), ADD CONSTRAINT FKAlimentaci962672 FOREIGN KEY (IDHistorialMedico) REFERENCES HistorialMedico (IDHistorialMedico);
ALTER TABLE FichaClinica ADD INDEX FKFichaClini138377 (IDHistorialMedico), ADD CONSTRAINT FKFichaClini138377 FOREIGN KEY (IDHistorialMedico) REFERENCES HistorialMedico (IDHistorialMedico);
ALTER TABLE AjusteEntrada ADD INDEX FKAjusteEntr133801 (IDAjusteEntradaTipo), ADD CONSTRAINT FKAjusteEntr133801 FOREIGN KEY (IDAjusteEntradaTipo) REFERENCES AjusteEntradaTipo (IDAjusteEntradaTipo);
ALTER TABLE AjusteSalida ADD INDEX FKAjusteSali329927 (IDAjusteSalidaTipo), ADD CONSTRAINT FKAjusteSali329927 FOREIGN KEY (IDAjusteSalidaTipo) REFERENCES AjusteSalidaTipo (IDAjusteSalidaTipo);
ALTER TABLE Consulta ADD INDEX FKConsulta744754 (IDHistorialMedico), ADD CONSTRAINT FKConsulta744754 FOREIGN KEY (IDHistorialMedico) REFERENCES HistorialMedico (IDHistorialMedico);
